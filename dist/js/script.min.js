const HEADER=document.querySelector(".header"),BURGER=HEADER.querySelector(".menu-button"),MENU=HEADER.querySelector(".header__navigation-list"),BG=HEADER.querySelector(".menu-button__background"),LINK=document.querySelectorAll(".navigation__item");BURGER.addEventListener("click",function(){HEADER.classList.toggle("header-active"),document.body.classList.toggle("no-scroll")}),BG.addEventListener("click",function(){HEADER.classList.toggle("header-active"),document.body.classList.toggle("no-scroll")});for(let e=0;e<LINK.length;e++)LINK[e].addEventListener("click",function(){HEADER.classList.remove("header-active"),document.body.classList.remove("no-scroll")});let sliderTestimonial=tns({container:".testimonial__list",items:1,speed:400,controls:0,navPosition:"bottom",mouseDrag:!0}),sliderOffer=tns({container:".offer__list",items:1,speed:400,controls:0,navPosition:"bottom",mouseDrag:!0,lazyload:!0,responsive:{576:{items:2},992:{items:3}}});const bag=document.querySelector(".bag"),shopCart=document.querySelector(".shopping-cart"),closeCart=document.querySelector(".close-cart"),shopBG=document.querySelector(".cart-bg"),addToCart=(bag.addEventListener("click",function(){shopCart.classList.toggle("shopping-cart-open"),document.body.classList.toggle("no-scroll"),shopBG.classList.toggle("cart-bg-open")}),closeCart.addEventListener("click",function(){shopCart.classList.toggle("shopping-cart-open"),document.body.classList.toggle("no-scroll"),shopBG.classList.toggle("cart-bg-open")}),shopBG.addEventListener("click",function(){shopCart.classList.toggle("shopping-cart-open"),document.body.classList.toggle("no-scroll"),shopBG.classList.remove("cart-bg-open")}),document.querySelectorAll(".add-cart")),cartItem=document.getElementsByClassName("cart-item");for(let e=0;e<addToCart.length;e++)(button=addToCart[e]).addEventListener("click",addToCartClicked);function addToCartClicked(e){var e=(button=e.target).parentElement,t=button.parentElement.parentElement,e=e.children[0].innerText,n=t.children[3].children[0].children[1].innerText,t=t.children[1].src;console.log(t,n,e),addItemtoCart(t,n,e),updateCartPrice()}function addItemtoCart(t,e,n){var o=document.createElement("li"),a=(o.classList.add("cart-item"),document.querySelector(".cart-list")),r=document.querySelectorAll(".cart-image");for(let e=0;e<r.length;e++)if(r[e].src==t)return void alert(n+" has already been added to the cart");o.innerHTML=`
        <img class="cart-image" src="${t}" alt="">
        <div class="center">
            <div class="cart-title">${n}</div>
            <span class="cart-price">${e}</span>
            <span class="remove">Remove</span>
        </div>
        <div class="quantity">
                    <input type="number" class="quantity-number" value="1">
                </div>
       
            
        `,a.append(o),o.getElementsByClassName("remove")[0].addEventListener("click",removeItem),o.getElementsByClassName("quantity-number")[0].addEventListener("click",changeQuantity),updateCartPrice()}const removeBtn=document.getElementsByClassName("remove");for(let e=0;e<removeBtn.length;e++)(button=removeBtn[e]).addEventListener("click",removeItem);function removeItem(e){(btnClicked=e.target).parentElement.parentElement.remove(),updateCartPrice()}let quantityInput=document.getElementsByClassName("quantity-number")[0];for(let e=0;e<quantityInput;e++)(input=quantityInput[e]).addEventListener("change",changeQuantity);function changeQuantity(e){e=e.target;(isNaN(e.value)||e.value<=0)&&(e.value=1),updateCartPrice()}function updateCartPrice(){let t=0;for(let e=0;e<cartItem.length;e++){var n=(cartRow=cartItem[e]).getElementsByClassName("cart-price")[0],o=cartRow.getElementsByClassName("quantity-number")[0],n=parseFloat(n.innerText.replace("$","")),o=o.value;t+=n*o}document.querySelector(".cart-total").innerText=t.toFixed(2),i=cartItem.length,document.querySelector(".bag-quantity").textContent=[i]}let cartTotal=document.querySelector(".cart-total"),cartPurchase=document.querySelector(".cart-purchase");const modalWindow=document.querySelector(".modal-window"),modalBg=document.querySelector(".modal-bg"),orderBtn=document.querySelector(".order-button");cartPurchase.addEventListener("click",function(){cartTotal.innerText<"1"?alert("Your cart is empty."):(shopCart.classList.remove("shopping-cart-open"),shopBG.classList.remove("cart-bg-open"),modalWindow.classList.add("modal-window-open"),modalBg.classList.toggle("modal-bg-open"))}),modalBg.addEventListener("click",function(){this.classList.remove("modal-bg-open"),modalWindow.classList.remove("modal-window-open"),document.body.classList.remove("no-scroll")}),AOS.init();